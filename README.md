# java-explore-with-me

==========================*Для ревью*=============================

Добрый день. 
1. Не совсем понял что не так с методами Hit в репозиториях.

    Основная задача это - ***Получение статистики по посещениям.***
    
    1й метод возвращает *статистику по посещениям не учитывая уникальный ip. + кол-во просмотров*
    
    2й метод возвращает *получение статистики по посещениям только с уникальными ip. + кол-во просмотров*
    
    Что бы не создавать лишних полей и маппер классов мною было принято решение "формировать" объект ДТО в запросе.
    Данные методы отрабатывают.
    
    Может я не так понял ТЗ?
2. Так же я не совсем понял (может в силу не опытности) зачем проверять каждый приходящий объект на NULL,
   ведь в классах сущностей стоят соответствующие аннотации
3. Изначальные тесты проходят (просто не успеваешь править - меняются каждый день)
4. С yaml учту - просто пока нет времени на изучение, очень много работы, спасибо за совет



==========================*Для ревью*=============================

## Github URL
***[java-explore-with-me](https://github.com/HONDACIVIC5DDDDD/java-explore-with-me/pull/1)***

## Описание
*Свободное время — ценный ресурс. Ежедневно мы планируем, как его потратить — куда и с кем сходить.
Сложнее всего в таком планировании поиск информации и переговоры. Какие намечаются мероприятия, 
свободны ли в этот момент друзья, как всех пригласить и где собраться. Это приложение — афиша, 
где можно предложить какое-либо событие от выставки до похода в кино и набрать компанию для участия в нём.*

## Структура приложения
1. Основной сервис (ewm-main-service-spec)
    - API основного сервиса содержит три части: 
      - Первая — публичная, доступна без регистрации любому пользователю сети. 
      - Вторая — закрытая, доступна только авторизованным пользователям. 
      - Третья — административная, для администраторов сервиса. К каждой из частей свои требования.
    - Структурная схема основного сервиса:

      ![Иллюстрация к проекту](https://github.com/jon/coolproject/raw/master/image/image.png)  
2. Cервис статистики (ewm-stats-service)
    - API сервиса статистики содержит
       - запись информации о том, что был обработан запрос к эндпоинту API.
       - предоставление статистики за выбранные даты по выбранному эндпоинту.
    - Структурная схема сервиса статистики:

      ![Иллюстрация к проекту](https://github.com/jon/coolproject/raw/master/image/image.png)
3. Cервис шлюз (gatewey)
    - Этот сервис необходим для первичной валидации запросов без обращения к БД.
    - Структурная схема сервиса статистики:

      ![Иллюстрация к проекту](https://github.com/jon/coolproject/raw/master/image/image.png)
      
## Структурная схема хранения данных в БД
1. Основной сервис (ewm-main-service-spec)

    ![Иллюстрация к проекту](https://github.com/jon/coolproject/raw/master/image/image.png)
2. Cервис статистики (ewm-stats-service)

   ![Иллюстрация к проекту](https://github.com/jon/coolproject/raw/master/image/image.png)
## Спецификация API 
- Как поьзоваться спецификацией:


  Для работы со спецификациями вам понадобится редактор [Swagger](http://sabaka.net). 
  Чтобы просмотреть спецификацию в редакторе, необходимо выполнить ряд шагов:

  Скопировать ссылку на файл спецификации.
  Открыть онлайн-версию редактора Swagger. На верхней панели выбрать меню File, затем пункт Import URL.
  Вставить скопированную ссылку в текстовое поле появившегося диалогового окна и нажать OK.

[Спецификация основного сервиса](https://raw.githubusercontent.com/yandex-praktikum/java-explore-with-me/main/ewm-main-service-spec.json)

[Спецификация сервиса статистики](https://raw.githubusercontent.com/yandex-praktikum/java-explore-with-me/main/ewm-stats-service-spec.json)




## Запуск сервисов
1. ***Порядок запуска контейнеров***
   - **gateway запускается после:**
     - ewm-main-service-spec
     - ewm-stats-service
     - ewm-db
   - **ewm-main-service-spec запускается после:**
     - ewm-db
   - **ewm-stats-service запускается после:**
     - stats-db
2. ***Запуск приложения происходит в соответствии с документацией***
   - [Documentation](ttps://docs.docker.com/engine/reference/commandline/container/)





